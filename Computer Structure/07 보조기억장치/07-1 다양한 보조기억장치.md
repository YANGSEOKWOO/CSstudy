

### 하드디스크
자기적인 방식으로 데이터를 저장한다.
- 대용량 저장장치가 필요한 작업
- 서버실에 자주 출입하는 작업

![[Pasted image 20240219124458.png]]
실질적인 데이터 저장 공간 : 플래터(원판)
플래터를 회전시키는 구성요소 : 스핀들 - RPM이라는 단위로 표현
![[Pasted image 20240219124605.png]]
헤드 : 플래터를 대상으로 데이터를 읽고 쓰는 구성요소
디스크암 : 헤드를 원하는 위치로 이동시키는 것

#### 플래터에 데이터를 어떻게 저장하는가?
![[Pasted image 20240219124651.png]]

**트랙**, **섹터** 라는 단위로 데이터를 저장한다.
**트랙** : 플래터를 여러 동심원으로 나누고, 그 중 하나의 원
**섹터** : 트랙에서의 한 조각 : **하드디스크의 가장 작은 전송 단위**

위의 사진처럼 여러 겹의 플래터가 있을 수 있다.
![[Pasted image 20240219124901.png]]
**실린더** : 여러 겹의 플래터 상에서 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위

연속된 정보는 보통 한 실린더에 기록된다.
- 왜? => 디스크암을 움직일 필요가 없기 때문

결론 : 데이터는 섹터, 트랙, 실린더에 저장된다.

#### 저장된 데이터에 접근하는 과정

저장된 데이터에 접근하는 시간
- 탐색시간
- 회전지연
- 전송시간
탐색시간 : 트랙까지 헤드를 이동시키는 시간

![[Pasted image 20240219125219.png]]
회전 지연 : 헤드가 있는 곳으로 플래터를 회전시키는 시간
![[Pasted image 20240219125238.png]]
전송시간 : 하드디스크와 컴퓨터 간에 데이터를 전송하는 시간
![[Pasted image 20240219125250.png]]

#### 프로그래머가 꼭 알아야 할 컴퓨터 시간
![[Pasted image 20240219125422.png]]
생각보다 메모리참조시간과 L2캐시 참조시간이 왜 얼마 차이가 안날까?


### 플래시메모리
USB메모리, SD카드, SSD가 모두 플래시 메모리 기반의 보조기억장치이다.
![[Pasted image 20240219125916.png]]
여기서의 붉은색 부분이다.

- **전기적**으로 데이터를 읽고 쓰는 **반도체 기반**의 저장 장치
- ROM에도 사용되고... 거의 모든 전자제품 안에 내장되어있다고 봐도 무방

**셀(cell)** : 플래시 메모리에서 데이터를 저장하는 가장 작은 단위
- MB, GB, TB용량을 가지는 저장장치가 된다.
한 셀에 1비트를 저장한다 => SLC타입 (Single Level Cell)
한 셀에 2비트를 저장한다. => MLC타입 (Multiple Level Cell)
한 셀에 3비트를 저장한다. => TLC(Triple)
QLC ...
=> 이는 메모리의 수명, 속도, 가격에 큰 영향을 미친다.

#### SLC 타입
한 셀로 두개의 정보를 표현할 수 있다. (0, 1)
- MLC, TLC 타입에 비해 비트의 빠른 입출력이 가능하다.
- 수명 : MLC, TLC보다 길다. => 수만~수십만 데이터 쓰고, 지우고 반복가능
- 가격 : 용량대비 가격이 높다.

언제쓸까?
- 데이터 읽고 쓰기가 매우 많이 반복될 때
- 고성능의 빠른 저장장치가 필요할 때

#### MLC타입
한 셀로 네 개의 정보를 표현한다. (00, 01, 10, 11)
- SLC보다 대용화하기 유리하다.
- 집의 개수가 같다면, 한 집에 한 명씩 사는 것보다 한 집에 두명씩 사는게 더 많은 사람을 넣을 수 있는 것과 같다.
- 가격 : 용량대비 가격 저렴(SLC보다)

#### TLC타입
한 셀당 3비트 => 8개의 정보
- 수명 : SLC, MLC보다 짧다
- 속도 : SLC, MLC보다 느리다.
- 가격 : 용량대비 가격저렴
![[Pasted image 20240219131014.png]]

**페이지** : 셀들이 모여 만든 단위
**블록** : 페이지가 모여 만들어진 단위
**플레인** : 블록이 모여..
**다이** : 플레인이 모여 죽네...
![[Pasted image 20240219131107.png]]
#### 특징
- 읽기/쓰기 : 페이지 단위로 이뤄진다.
- 삭제 : 블록 단위로 이뤄진다.
- **읽기/쓰기 단위와 삭제 단위가 다르다**

#### 페이지의 3개의 상태
- Free : 어떠한 데이터도 저장 X, 새로운 데이터를 저장할 수 있는 상태
- Valid : 이미 유효한 데이터를 저장하고 있는 상태
- Invalid : 쓰레기값(유효하지 않은 데이터를 저장)하고 있는 상태

**플래시메모리는 덮어쓰기가 불가능하다!!**
 => Valid 상태의 페이지에는 새 데이터 저장이 불가능하다.
#### 동작 예시
![[Pasted image 20240219131414.png]]
C의 저장(쓰기) : 페이지 단위
만약 A를 A'으로 수정하고 싶다면? => 덮어쓰기가 불가능하다.
- 그럼 삭제하고 싶어 => 블록단위이기 때문에 B, C도 날라간다.
- 그냥 새로 하나 더 만들자 => 4번째 칸에 A'생성

하지만....!!, 그럼 기존의 A값은 이제 안쓰는 쓰레기 값이 된다. => **용량낭비**

어떻게할까??
=> **가비지 컬렉션**
1. 유효한 페이지만들을 새로운 블록으로 복사
2. 기존의 블록을 삭제한다.
![[Pasted image 20240219131708.png]]
